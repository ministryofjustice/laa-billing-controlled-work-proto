{% extends "layouts/main.html" %}
{% set version = "wip" %}
{% set activePrimeNav = [true, false] %}
{% set activeSubNav = [true, false, false] %}

{% block header %}
  {% include version + "/includes/header-provider.njk" %}
{% endblock %}


{% block pageTitle %}
  Submission details - claims – {{ serviceName }} - GOV.UK
{% endblock %}

{% block beforeContent %}
  {% include "includes/banner.html"%}

  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}


{% include version + "/includes/sub-info.njk" %}

  
<div class="govuk-grid-row"> 
  <div class="govuk-grid-column-full">
    
    {% include version + "/includes/nav-sub-submission.njk" %}

    <h2 class="govuk-heading-l" id="nav">Claims</h2>
     {% if data['isImport'] == "manual" and data['claims'] == "0"%}
      <p>You have not added any claims</p>
    {% endif %}
    
    
    {% if data['subStatus'] == "In progress" %}
      {{ govukButton({
        text: "Add claim",
        href: "../create/claim-start?question-claimType=&question-client=&question-case=&question-costs=&question-check=&scheduleRef=&ufn=&caseStart=&lawCategory=&claimTypeImmigration=&matterType=&client-first-name=&client-last-name=&clientDOB=&client-postcode=&UCN=&homeUCN=",
        classes: "govuk-button--secondary"
      }) }}
    {% endif %}

    {% if data['isImport'] == "manual" and data['claims'] == "0"%}
      {% else %}

      <!--{% include version + "/includes/table-submissionCost.html"%}-->
        
      <table class="govuk-table" data-module="moj-sortable-table">
        <caption class="govuk-table__caption govuk-table__caption--m">All claims</caption>
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header" aria-sort="none" id="claimTitle">No.</th>
            <th scope="col" class="govuk-table__header" aria-sort="none">UFN</th>  
            <th scope="col" class="govuk-table__header" aria-sort="none">Client</th>   
            <th scope="col" class="govuk-table__header" aria-sort="none">Category</th>         
            <th scope="col" class="govuk-table__header" aria-sort="none">Matter</th>
            <th scope="col" class="govuk-table__header" aria-sort="descending">Concluded/ claimed</th>
            <th scope="col" class="govuk-table__header" aria-sort="none">Fee type</th>
            <th scope="col" class="govuk-table__header" aria-sort="none">Claimed</th>
            <th scope="col" class="govuk-table__header">Action</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
        {% if data['isImport'] == "yes" %}
          {% if data['claimErrors'] == "1" %}
            <!--McBars import-->
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" id="claim1">1</td>
              <td class="govuk-table__cell" id="claim1">
                <a href="../create/task-list?question-claimType=error&question-client=complete&question-case=complete&question-costs=error&question-check=&ufn=100323/234&caseStart=10/3/2023&lawCategory=Immigration and Asylum&claimTypeImmigration=Completed matter claim&matterType=&client-first-name=Joanna&client-last-name=McBars&clientDOB=2/3/2020&client-postcode=E1 6EG&UCN=10031999/J/MCB&homeUCN=10031999/MCB&clientGender=Female&clientEthnicity=04 - Black or Black British Caribbean&clientDisability=NCD - Not Considered Disabled&vatEligible=No&counselCost=0.00&adviceNoHours-hours=2&adviceNoHours-mins=00&profitCost=200.00&travelNoHours-hours=2&travelNoHours-mins=00&waitingNoHours-hours=2&waitingNoHours-mins=00&travelwaitingCost=50.00&detentionCost=0.00&disbursementCost=90.oo&disbursementVATCost=10.00" id="ufn1" aria-labelledby="claimTitle claim2 ufn1">100323/234</a>
              </td>
              <td class="govuk-table__cell">McBars</td>
              <td class="govuk-table__cell">Immigration and Asylum</td>
              <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--red">Incomplete</strong></td>
              <td class="govuk-table__cell" data-sort-value="250318">18/3/2025</td>
              <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--red">Incomplete</strong></td>
              <td class="govuk-table__cell">£56.00</td>
              <td class="govuk-table__cell">
                <ul class="govuk-summary-list__actions-list">
                  <li class="govuk-summary-list__actions-list-item">
                    <a aria-labelledby="delete1 claimTitle claim1 clientName1" id="delete1" class="govuk-link" href="">Delete</a>
                  </li>
                </ul>
              </td>
            </tr> 
            {% else %} 
             <!--McBars import-->
            <tr class="govuk-table__row">
              <td class="govuk-table__cell" id="claim1">1</td>
              <td class="govuk-table__cell" id="claim1">
                <a href="../create/claim-check?question-claimType=complete&question-client=complete&question-case=complete&question-costs=complete&question-check=&ufn=100323/234&caseStart=10/3/2023&lawCategory=Immigration and Asylum&claimTypeImmigration=Completed matter claim&matterType=&client-first-name=Joanna&client-last-name=McBars&clientDOB=2/3/2020&client-postcode=E1 6EG&UCN=10031999/J/MCB&homeUCN=10031999/MCB&clientGender=Female&clientEthnicity=04 - Black or Black British Caribbean&clientDisability=NCD - Not Considered Disabled&vatEligible=No&counselCost=0&adviceNoHours-hours=2&adviceNoHours-mins=oo&profitCost=200&travelNoHours-hours=2&travelNoHours-mins=00&waitingNoHours-hours=2&waitingNoHours-mins=00&travelwaitingCost=50&detentionCost=0&disbursementCost=90&disbursementVATCost=10" id="ufn1" aria-labelledby="claimTitle claim2 ufn1">100323/234</a>
              </td>
              <td class="govuk-table__cell">McBars</td>
              <td class="govuk-table__cell">Immigration and Asylum</td>
              <td class="govuk-table__cell">{{data['matterType'] or "IACF:IGOL"}}</td>
              <td class="govuk-table__cell" data-sort-value="250318">18/3/2025</td>
               <td class="govuk-table__cell">Fixed</td>
              <td class="govuk-table__cell">£56.00</td>
              <td class="govuk-table__cell">
                <ul class="govuk-summary-list__actions-list">
                  <li class="govuk-summary-list__actions-list-item">
                    <a aria-labelledby="delete1 claimTitle claim1 clientName1" id="delete1" class="govuk-link" href="">Delete</a>
                   </li>
                </ul>
              </td>
            </tr>   
          {% endif %}
          <!--Giordano import-->
          <tr class="govuk-table__row">
            <td class="govuk-table__cell" id="claim2">3</td>
            <td class="govuk-table__cell" id="claim1">
              <a href="../create/claim-check?question-claimType=complete&question-client=complete&question-case=complete&question-costs=complete&question-check=complete&ufn=121120/678&caseStart=12/11/2023&lawCategory=Family&claimTypeImmigration=&matterType=FAMA:FOTH&client-first-name=Graham&client-last-name=Giordano&clientDOB=12/7/1987&client-postcode=BA1 6EG&UCN=10031999/G/GUB&homeUCN=10031999/GUB&clientGender=Male&clientEthnicity=02 - White Irish&clientDisability=NCD - Not Considered Disabled" id="ufn2" aria-labelledby="claimTitle claim2 ufn2">121120/678</a>
            </td>
            <td class="govuk-table__cell">Giordano</td>
            <td class="govuk-table__cell">Family</td>
            <td class="govuk-table__cell">FAMA:FOTH</td>
            <td class="govuk-table__cell" data-sort-value="250312">12/3/2025</td>
            <td class="govuk-table__cell">Escape</td>
            <td class="govuk-table__cell">£234.56</td>
            <td class="govuk-table__cell">
              <ul class="govuk-summary-list__actions-list">
                <li class="govuk-summary-list__actions-list-item">
                <a aria-labelledby="delete2 claimTitle claim2 clientName2" id="delete2" class="govuk-link" href="">Delete</a>
                </li>
              </ul>
            </td>
          </tr>
          <!--Gruffalo import-->
          <tr class="govuk-table__row">
            <td class="govuk-table__cell" id="claim3">2</td>
            <td class="govuk-table__cell" id="claim1">
              <a href="../create/claim-check?question-claimType=complete&question-client=complete&question-case=complete&question-costs=complete&question-check=complete&ufn=121120/678&caseStart=12/11/2023&lawCategory=Family&claimTypeImmigration=&matterType=FAMA:FOTH&client-first-name=Graham&client-last-name=Gruffalo&clientDOB=12/7/1987&client-postcode=BA1 6EG&UCN=10031999/G/GUB&homeUCN=10031999/GUB&clientGender=Male&clientEthnicity=02 - White Irish&clientDisability=NCD - Not Considered Disabled" id="ufn3" aria-labelledby="claimTitle claim3 ufn3">121120/678</a>
            </td>
            <td class="govuk-table__cell">Gruffalo</td>
            <td class="govuk-table__cell">Immigration and Asylum</td>
            <td class="govuk-table__cell">IAXL:IUAS</td>
            <td class="govuk-table__cell" data-sort-value="250314">14/3/2025</td>
            <td class="govuk-table__cell">Hourly</td>
            <td class="govuk-table__cell">£456.01</td>
            <td class="govuk-table__cell">
              <ul class="govuk-summary-list__actions-list">
                <li class="govuk-summary-list__actions-list-item">
                  <a aria-labelledby="delete3 claimTitle claim3 clientName3" id="delete3" class="govuk-link" href="">Delete</a>
                </li>
              </ul>
            </td>
          </tr>
          {% elseif data['isImport'] == "manual" %}
            {% if data['claims'] == "1" or data['claims'] == "3" %}
              <tr class="govuk-table__row">
                <td class="govuk-table__cell" id="claim1">1</td>
                <td class="govuk-table__cell" id="claim1">
                  <a href="../create/claim-check?question-claimType=complete&question-client=complete&question-case=complete&question-costs=complete&question-check=&ufn=100323/234&caseStart=10/3/2023&lawCategory=Immigration and Asylum&claimTypeImmigration=Completed matter claim&matterType=IACF:IGOL&client-first-name=Joanna&client-last-name=McBars&clientDOB=2/3/2020&client-postcode=E1 6EG&UCN=10031999/J/MCB&homeUCN=10031999/MCB" id="ufn1" aria-labelledby="claimTitle claim2 ufn1">100323/234</a>
                </td>
                <td class="govuk-table__cell">McBars</td>
                <td class="govuk-table__cell">Immigration and Asylum</td>
                <td class="govuk-table__cell">IACF:IGOL</td>
                <td class="govuk-table__cell" data-sort-value="250318">18/3/2025</td>
                <td class="govuk-table__cell">Fixed</td>
                <td class="govuk-table__cell">£56.00</td>
                <td class="govuk-table__cell">
                  <ul class="govuk-summary-list__actions-list">
                    <li class="govuk-summary-list__actions-list-item">
                      <a aria-labelledby="delete1 claimTitle claim1 clientName1" id="delete1" class="govuk-link" href="">Delete</a>
                    </li>
                  </ul>
                </td>
              </tr>                 
            {% endif %}
            {% if data['claims'] == "3" %}
               <!--Giordano import-->
              <tr class="govuk-table__row">
                <td class="govuk-table__cell" id="claim2">3</td>
                <td class="govuk-table__cell" id="claim1">
                  <a href="../create/claim-check?question-claimType=complete&question-client=complete&question-case=complete&question-costs=complete&question-check=complete&ufn=121120/678&caseStart=12/11/2023&lawCategory=Family&claimTypeImmigration=&matterType=FAMA:FOTH&client-first-name=Graham&client-last-name=Giordano&clientDOB=12/7/1987&client-postcode=BA1 6EG&UCN=10031999/G/GUB&homeUCN=10031999/GUB&clientGender=Male&clientEthnicity=02 - White Irish&clientDisability=NCD - Not Considered Disabled" id="ufn2" aria-labelledby="claimTitle claim2 ufn2">121120/678</a>
                </td>
                <td class="govuk-table__cell">Giordano</td>
                <td class="govuk-table__cell">Family</td>
                <td class="govuk-table__cell">FAMA:FOTH</td>
                <td class="govuk-table__cell" data-sort-value="250312">12/3/2025</td>
                <td class="govuk-table__cell">Escape</td>
                <td class="govuk-table__cell">£234.56</td>
                <td class="govuk-table__cell">
                  <ul class="govuk-summary-list__actions-list">
                    <li class="govuk-summary-list__actions-list-item">
                    <a aria-labelledby="delete2 claimTitle claim2 clientName2" id="delete2" class="govuk-link" href="">Delete</a>
                    </li>
                  </ul>
                </td>
              </tr>
              <!--Gruffalo manual-->
              <tr class="govuk-table__row">
                <td class="govuk-table__cell" id="claim3">2</td>
                <td class="govuk-table__cell" id="claim1">
                  <a href="../create/claim-check?question-claimType=complete&question-client=complete&question-case=complete&question-costs=complete&question-check=complete&ufn=121120/678&caseStart=12/11/2023&lawCategory=Immigration and Asylum&claimTypeImmigration=Stage disbursement claim&matterType=IAXL:IUAS&client-first-name=Graham&client-last-name=Gruffalo" id="ufn3" aria-labelledby="claimTitle claim3 ufn3">121120/678</a>
                </td>
                <td class="govuk-table__cell">Gruffalo</td>
                <td class="govuk-table__cell">Immigration and Asylum</td>
                <td class="govuk-table__cell">IAXL:IUAS</td>
                <td class="govuk-table__cell" data-sort-value="250314">14/3/2025</td>
                <td class="govuk-table__cell">Hourly</td>
                <td class="govuk-table__cell">£456.01</td>
                <td class="govuk-table__cell">
                  <ul class="govuk-summary-list__actions-list">
                    <li class="govuk-summary-list__actions-list-item">
                      <a aria-labelledby="delete3 claimTitle claim3 clientName3" id="delete3" class="govuk-link" href="">Delete</a>
                    </li>
                  </ul>
                </td>
              </tr>
            {% endif %}
        {% endif %}
          
        </body>
      </table>
      {% include "/includes/pagination-small.njk" %}

    {% endif %}

  </div>
</div>

<script>
  const date = new Date();
  const formattedDate = date.toLocaleDateString('en-GB', {
    month: 'short', year: 'numeric'
  }).replace(/ /g, ' ');
  document.getElementById("date").innerHTML = formattedDate;
</script>  

{% endblock %}